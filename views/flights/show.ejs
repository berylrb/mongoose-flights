<%- include("../partials/html-head") %>
<link rel="stylesheet" href="/stylesheets/flights/show.css" />
<%- include("../partials/nav") %>  

<main>
  <h1><%= title %></h1>
  <section>
    <table>
      <thead>
        <tr>
          <th>EDIT FLIGHT</th>
          <th>AIRLINE</th>
          <th>AIRPORT</th>
          <th>FLIGHT NUMBER</th>
          <th>DEPARTS</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><a href="/flights/<%= flight._id %>/edit" <%- title === 'Edit Flight' ? 'class="active"' : '' %>>Edit Flight Details</a></td>
          <td><%= flight.airline %></td>
          <td><%= flight.airport %></td>
          <td><%= flight.flightNo %></td>
          <td class=<%= flight.departs < Date.now()?"passed":"upcoming"%>><%= flight.departs.toLocaleDateString() + " - " + flight.departs.toLocaleTimeString([], {timeStyle: 'short'}) %></td>
        </tr>
      </tbody>
    </table>
  </section>
  <h2>Tickets</h2>
  <form id="add-ticket-form" action="/flights/<%= flight._id %>/tickets" method="POST">
    <label for="seat">Seat Selection</label><br>
    <input type="text" name="seat" id="seat-input" required pattern="[A-F][1-9]\d?" placeholder="Enter Seat Number"><br>
    <label for="price">Ticket Price</label><br>
    <input type="number" name="price" id="price-input" placeholder="Enter Ticket Price"><br>
    <button type="submit">Add Ticket</button>
  </form>
</main>

<%- include("../partials/footer") %>  